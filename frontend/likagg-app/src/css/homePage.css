/* =========================================
   1. CẤU TRÚC CHÍNH (LAYOUT 3 CỘT)
   ========================================= */

/* Container bao quanh toàn bộ trang */
.home-container {
    display: flex;
    /* Chiều cao tối thiểu bằng màn hình trừ header */
    min-height: calc(100vh - 56px); 
    background-color: #dae0e6; 
    position: relative; 
    
    /* QUAN TRỌNG: align-items: flex-start giúp sticky hoạt động đúng trên Desktop */
    align-items: flex-start; 
}

/* =========================================
   2. MOBILE HEADER & DRAWER (Mặc định ẩn trên Desktop)
   ========================================= */

.mobile-header-bar {
    display: none; /* Ẩn trên Desktop */
    width: 100%;
    background-color: white;
    padding: 10px 15px;
    border-bottom: 1px solid #edeff1;
    position: sticky;
    top: 56px; 
    z-index: 900;
    box-sizing: border-box; 
}

.mobile-menu-btn {
    background: none;
    border: none;
    display: flex;
    align-items: center;
    font-size: 16px;
    color: #1c1c1c;
    cursor: pointer;
    padding: 0;
}

/* Lớp phủ đen mờ khi mở menu */
.mobile-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    z-index: 1100;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s;
}
.mobile-overlay.open {
    opacity: 1;
    visibility: visible;
}

/* Menu trượt từ trái sang */
.mobile-drawer {
    position: fixed;
    top: 0;
    left: -280px; 
    width: 270px;
    height: 100%;
    background-color: white;
    z-index: 1200;
    transition: left 0.3s ease-in-out;
    box-shadow: 2px 0 10px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
}
.mobile-drawer.open {
    left: 0; 
}

.drawer-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 1px solid #eee;
}
.drawer-header h3 { margin: 0; font-size: 18px; }
.drawer-header button { background: none; border: none; font-size: 24px; cursor: pointer; }

.drawer-content {
    flex: 1;
    overflow-y: auto;
    padding: 10px 0;
}

/* =========================================
   3. CỘT TRÁI (LEFT SIDEBAR - STICKY)
   ========================================= */
.left-sidebar {
    width: 270px; /* Chiều rộng cố định */
    flex-shrink: 0; /* Không bị co lại */
    border-right: 1px solid #eee;
    padding: 16px 24px;
    background-color: white;
    
    /* --- LOGIC STICKY --- */
    position: -webkit-sticky; /* Cho Safari */
    position: sticky; 
    /* Dính ở vị trí 56px (ngay dưới header) */
    top: 56px; 
    
    /* Chiều cao BẮT BUỘC phải bằng màn hình trừ header để nó chiếm hết không gian dọc */
    height: calc(100vh - 56px); 
    
    /* Cho phép cuộn nội bộ nếu danh sách menu quá dài */
    overflow-y: auto; 
    
    box-sizing: border-box; 
    z-index: 10; /* Đảm bảo nổi hơn nội dung trượt qua nếu có */
}

/* Tùy chỉnh thanh cuộn cho đẹp */
.left-sidebar::-webkit-scrollbar { width: 6px; }
.left-sidebar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }

/* --- PHẦN NAV SECTION BỊ THIẾU ĐÃ ĐƯỢC THÊM LẠI --- */
.nav-section { 
    padding-bottom: 8px; 
    margin-bottom: 8px; 
    border-bottom: 1px solid #f0f0f0; /* Đường kẻ mờ ngăn cách các nhóm */
}
.nav-section:last-child { 
    border-bottom: none; 
}
.nav-title { 
    font-size: 10px; 
    font-weight: 700; 
    color: #878a8c; 
    text-transform: uppercase; 
    padding: 16px 0 8px; 
    letter-spacing: 0.5px; 
}

/* Style các link trong sidebar */
.nav-link {
    display: flex; 
    align-items: center; 
    padding: 8px 12px; 
    color: #1c1c1c;
    text-decoration: none; 
    font-size: 14px; 
    font-weight: 500; 
    transition: background-color 0.1s;
    border-radius: 8px; 
    margin-bottom: 2px;
}
.nav-link:hover { 
    background-color: #f6f7f8; 
}
.nav-link.active { 
    font-weight: 700; 
    background-color: #f0f2f5; 
}

.nav-icon-svg { width: 24px; height: 24px; margin-right: 12px; fill: none; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; color: #1c1c1c; }
.community-icon { width: 24px; height: 24px; border-radius: 50%; margin-right: 12px; object-fit: cover; background-color: #0079d3; color: white; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; flex-shrink: 0; }
.see-more-btn { background: none; border: none; padding: 8px 12px; color: #1c1c1c; font-size: 12px; font-weight: 500; cursor: pointer; width: 100%; text-align: left; border-radius: 8px; }
.see-more-btn:hover { background-color: #f6f7f8; }
.footer-links p { margin-bottom: 5px; cursor: pointer; }
.footer-links p:hover { text-decoration: underline; }


/* =========================================
   4. CỘT GIỮA (MAIN CONTENT)
   ========================================= */
.main-content {
    flex: 1; /* Tự động giãn nở để chiếm hết khoảng trống còn lại */
    padding: 20px 24px;
    max-width: 800px; 
    margin: 0 auto; /* Căn giữa */
    min-width: 0; /* Quan trọng để flex item co nhỏ được nếu cần */
    
    /* Để width auto để nó tự động fit theo flex trên Desktop */
    width: auto; 
}

.posts-container { width: 100%; }
.post-card-wrapper { margin-bottom: 16px; }


/* =========================================
   5. CỘT PHẢI (RIGHT SIDEBAR - STICKY)
   ========================================= */
.right-sidebar {
    width: 312px; /* Chiều rộng cố định */
    padding: 20px 24px;
    
    /* Sticky Logic */
    position: -webkit-sticky;
    position: sticky;
    top: 56px; 
    
    /* Giới hạn chiều cao để scroll nội bộ nếu cần */
    max-height: calc(100vh - 56px);
    overflow-y: auto; 
    z-index: 10;
}

/* Ẩn thanh cuộn bên phải cho gọn */
.right-sidebar::-webkit-scrollbar { display: none; }

.famous-box { background-color: white; padding: 12px; border-radius: 4px; border: 1px solid #ccc; margin-bottom: 16px; }
.famous-title { font-size: 10px; font-weight: 700; text-transform: uppercase; color: #878a8c; margin-bottom: 12px; letter-spacing: 0.5px; }
.famous-list { display: flex; flex-direction: column; }
.famous-item { display: flex; align-items: center; padding: 8px 0; text-decoration: none; color: #1c1c1c; border-bottom: 1px solid #f0f0f0; }
.famous-item:last-child { border-bottom: none; }
.famous-rank { font-weight: bold; color: #1c1c1c; width: 20px; margin-right: 8px; text-align: center; font-size: 14px; }
.community-icon.small { width: 24px; height: 24px; font-size: 10px; margin-right: 8px; }
.famous-info { display: flex; flex-direction: column; }
.famous-name { font-size: 12px; font-weight: 500; color: #1c1c1c; }
.see-all-btn { width: 100%; padding: 8px; margin-top: 10px; background-color: #f6f7f8; border: none; border-radius: 16px; color: #1c1c1c; font-weight: 700; font-size: 12px; cursor: pointer; }

/* =========================================
   6. RESPONSIVE MEDIA QUERIES (KHÔI PHỤC)
   ========================================= */

/* --- TABLET LANDSCAPE & LAPTOP NHỎ (960px - 1200px) --- */
@media (max-width: 1200px) {
    .right-sidebar {
        display: none; /* Ẩn cột phải */
    }
    .main-content {
        max-width: 900px; /* Mở rộng cột giữa ra */
    }
}

/* --- MOBILE & TABLET PORTRAIT (< 960px) --- */
@media (max-width: 960px) {
    /* Chuyển layout từ ngang sang dọc */
    .home-container {
        flex-direction: column; 
    }

    /* Ẩn hoàn toàn cột trái và phải (Desktop) */
    .left-sidebar, 
    .right-sidebar {
        display: none !important; 
    }

    /* Hiện Mobile Header Bar */
    .mobile-header-bar {
        display: flex; 
        align-items: center;
    }

    /* Ẩn tiêu đề trang to ở nội dung (vì đã có trên header bar) */
    .page-title-desktop {
        display: none;
    }

    /* Cấu hình lại Main Content cho Mobile */
    .main-content {
        padding: 10px 0; 
        /* QUAN TRỌNG: Ghi đè lại width auto của Desktop để tràn màn hình */
        width: 100% !important; 
        max-width: 100% !important;
        margin: 0;
        
        /* Reset flex */
        flex: none; 
        display: block; 
    }

    .posts-container {
        width: 100%;
    }

    /* Post Card: Vuông góc và sát lề trên mobile */
    .post-card-wrapper {
        margin-bottom: 8px;
        padding: 0;
    }
    
    .post-card {
        border-radius: 0; 
        border-left: none;
        border-right: none;
        width: 100%;
        margin-bottom: 0;
    }
}

/* --- Resources Footer Styles --- */
.footer-links {
    padding: 0 10px;
}

.footer-column {
    display: flex;
    flex-direction: column;
    gap: 8px; /* Khoảng cách giữa các link */
}

.resource-link {
    font-size: 13px;
    color: #4a4a4a;
    text-decoration: none;
    transition: color 0.2s ease;
}

.resource-link:hover {
    color: #0079d3; /* Màu xanh đặc trưng */
    text-decoration: underline;
}

.footer-copyright {
    font-size: 12px;
    color: #7c7c7c;
}

.legal-link {
    display: inline-block;
    margin-right: 10px;
    color: #7c7c7c;
    text-decoration: none;
}

.legal-link:hover {
    text-decoration: underline;
}